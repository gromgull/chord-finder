(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Ut=!1,Dt=(e,t)=>e===t,He=Symbol("solid-proxy"),Ht=typeof Proxy=="function",Gt=Symbol("solid-track"),je={equals:Dt};let bt=St;const K=1,Pe=2,vt={owned:null,cleanups:null,context:null,owner:null};var P=null;let Be=null,Vt=null,L=null,T=null,H=null,Ie=0;function ne(e,t){const n=L,s=P,r=e.length===0,o=t===void 0?s:t,l=r?vt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},i=r?e:()=>e(()=>W(()=>he(l)));P=l,L=null;try{return q(i,!0)}finally{L=n,P=s}}function O(e,t){t=t?Object.assign({},je,t):je;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),xt(n,r));return[$t.bind(n),s]}function x(e,t,n){const s=rt(e,t,!1,K);me(s)}function de(e,t,n){bt=zt;const s=rt(e,t,!1,K);(!n||!n.render)&&(s.user=!0),H?H.push(s):me(s)}function I(e,t,n){n=n?Object.assign({},je,n):je;const s=rt(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,me(s),$t.bind(s)}function Kt(e){return q(e,!1)}function W(e){if(L===null)return e();const t=L;L=null;try{return e()}finally{L=t}}function ge(e,t,n){const s=Array.isArray(e);let r,o=n&&n.defer;return l=>{let i;if(s){i=Array(e.length);for(let d=0;d<e.length;d++)i[d]=e[d]()}else i=e();if(o)return o=!1,l;const c=W(()=>t(i,r,l));return r=i,c}}function fe(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function et(){return P}function tt(e,t){const n=P,s=L;P=e,L=null;try{return q(t,!0)}catch(r){st(r)}finally{P=n,L=s}}function qt(e){const t=L,n=P;return Promise.resolve().then(()=>{L=t,P=n;let s;return q(e,!1),L=P=null,s?s.done:void 0})}const[Gs,Vs]=O(!1);function yt(e,t){const n=Symbol("context");return{id:n,Provider:Yt(n),defaultValue:e}}function wt(e){let t;return P&&P.context&&(t=P.context[e.id])!==void 0?t:e.defaultValue}function nt(e){const t=I(e),n=I(()=>Ge(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}function $t(){if(this.sources&&this.state)if(this.state===K)me(this);else{const e=T;T=null,q(()=>ke(this),!1),T=e}if(L){const e=this.observers?this.observers.length:0;L.sources?(L.sources.push(this),L.sourceSlots.push(e)):(L.sources=[this],L.sourceSlots=[e]),this.observers?(this.observers.push(L),this.observerSlots.push(L.sources.length-1)):(this.observers=[L],this.observerSlots=[L.sources.length-1])}return this.value}function xt(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&q(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],l=Be&&Be.running;l&&Be.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?T.push(o):H.push(o),o.observers&&At(o)),l||(o.state=K)}if(T.length>1e6)throw T=[],new Error},!1)),t}function me(e){if(!e.fn)return;he(e);const t=Ie;Xt(e,e.value,t)}function Xt(e,t,n){let s;const r=P,o=L;L=P=e;try{s=e.fn(t)}catch(l){return e.pure&&(e.state=K,e.owned&&e.owned.forEach(he),e.owned=null),e.updatedAt=n+1,st(l)}finally{L=o,P=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?xt(e,s):e.value=s,e.updatedAt=n)}function rt(e,t,n,s=K,r){const o={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:P?P.context:null,pure:n};return P===null||P!==vt&&(P.owned?P.owned.push(o):P.owned=[o]),o}function Oe(e){if(e.state===0)return;if(e.state===Pe)return ke(e);if(e.suspense&&W(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ie);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===K)me(e);else if(e.state===Pe){const s=T;T=null,q(()=>ke(e,t[0]),!1),T=s}}function q(e,t){if(T)return e();let n=!1;t||(T=[]),H?n=!0:H=[],Ie++;try{const s=e();return Zt(n),s}catch(s){n||(H=null),T=null,st(s)}}function Zt(e){if(T&&(St(T),T=null),e)return;const t=H;H=null,t.length&&q(()=>bt(t),!1)}function St(e){for(let t=0;t<e.length;t++)Oe(e[t])}function zt(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:Oe(s)}for(t=0;t<n;t++)Oe(e[t])}function ke(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===K?s!==t&&(!s.updatedAt||s.updatedAt<Ie)&&Oe(s):r===Pe&&ke(s,t)}}}function At(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Pe,n.pure?T.push(n):H.push(n),n.observers&&At(n))}}function he(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),l=n.observerSlots.pop();s<r.length&&(o.sourceSlots[l]=s,r[s]=o,n.observerSlots[s]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)he(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)he(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Qt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function st(e,t=P){throw Qt(e)}function Ge(e){if(typeof e=="function"&&!e.length)return Ge(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Ge(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function Yt(e,t){return function(s){let r;return x(()=>r=W(()=>(P.context={...P.context,[e]:s.value},nt(()=>s.children))),void 0),r}}const Jt=Symbol("fallback");function ft(e){for(let t=0;t<e.length;t++)e[t]()}function en(e,t,n={}){let s=[],r=[],o=[],l=0,i=t.length>1?[]:null;return fe(()=>ft(o)),()=>{let c=e()||[],d=c.length,u,a;return c[Gt],W(()=>{let h,p,g,m,v,b,_,w,A;if(d===0)l!==0&&(ft(o),o=[],s=[],r=[],l=0,i&&(i=[])),n.fallback&&(s=[Jt],r[0]=ne(j=>(o[0]=j,n.fallback())),l=1);else if(l===0){for(r=new Array(d),a=0;a<d;a++)s[a]=c[a],r[a]=ne(f);l=d}else{for(g=new Array(d),m=new Array(d),i&&(v=new Array(d)),b=0,_=Math.min(l,d);b<_&&s[b]===c[b];b++);for(_=l-1,w=d-1;_>=b&&w>=b&&s[_]===c[w];_--,w--)g[w]=r[_],m[w]=o[_],i&&(v[w]=i[_]);for(h=new Map,p=new Array(w+1),a=w;a>=b;a--)A=c[a],u=h.get(A),p[a]=u===void 0?-1:u,h.set(A,a);for(u=b;u<=_;u++)A=s[u],a=h.get(A),a!==void 0&&a!==-1?(g[a]=r[u],m[a]=o[u],i&&(v[a]=i[u]),a=p[a],h.set(A,a)):o[u]();for(a=b;a<d;a++)a in g?(r[a]=g[a],o[a]=m[a],i&&(i[a]=v[a],i[a](a))):r[a]=ne(f);r=r.slice(0,l=d),s=c.slice(0)}return r});function f(h){if(o[a]=h,i){const[p,g]=O(a);return i[a]=g,t(c[a],p)}return t(c[a])}}}function C(e,t){return W(()=>e(t||{}))}function xe(){return!0}const tn={get(e,t,n){return t===He?n:e.get(t)},has(e,t){return t===He?!0:e.has(t)},set:xe,deleteProperty:xe,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:xe,deleteProperty:xe}},ownKeys(e){return e.keys()}};function We(e){return(e=typeof e=="function"?e():e)?e:{}}function nn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function rn(...e){let t=!1;for(let l=0;l<e.length;l++){const i=e[l];t=t||!!i&&He in i,e[l]=typeof i=="function"?(t=!0,I(i)):i}if(Ht&&t)return new Proxy({get(l){for(let i=e.length-1;i>=0;i--){const c=We(e[i])[l];if(c!==void 0)return c}},has(l){for(let i=e.length-1;i>=0;i--)if(l in We(e[i]))return!0;return!1},keys(){const l=[];for(let i=0;i<e.length;i++)l.push(...Object.keys(We(e[i])));return[...new Set(l)]}},tn);const n={},s=Object.create(null);for(let l=e.length-1;l>=0;l--){const i=e[l];if(!i)continue;const c=Object.getOwnPropertyNames(i);for(let d=c.length-1;d>=0;d--){const u=c[d];if(u==="__proto__"||u==="constructor")continue;const a=Object.getOwnPropertyDescriptor(i,u);if(!s[u])s[u]=a.get?{enumerable:!0,configurable:!0,get:nn.bind(n[u]=[a.get.bind(i)])}:a.value!==void 0?a:void 0;else{const f=n[u];f&&(a.get?f.push(a.get.bind(i)):a.value!==void 0&&f.push(()=>a.value))}}}const r={},o=Object.keys(s);for(let l=o.length-1;l>=0;l--){const i=o[l],c=s[i];c&&c.get?Object.defineProperty(r,i,c):r[i]=c?c.value:void 0}return r}const sn=e=>`Stale read from <${e}>.`;function z(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(en(()=>e.each,e.children,t||void 0))}function D(e){const t=e.keyed,n=I(()=>e.when,void 0,void 0),s=t?n:I(n,void 0,{equals:(r,o)=>!r==!o});return I(()=>{const r=s();if(r){const o=e.children;return typeof o=="function"&&o.length>0?W(()=>o(t?r:()=>{if(!W(s))throw sn("Show");return n()})):o}return e.fallback},void 0,void 0)}const Et=e=>I(()=>e());function on(e,t,n){let s=n.length,r=t.length,o=s,l=0,i=0,c=t[r-1].nextSibling,d=null;for(;l<r||i<o;){if(t[l]===n[i]){l++,i++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===l){const u=o<s?i?n[i-1].nextSibling:n[o-i]:c;for(;i<o;)e.insertBefore(n[i++],u)}else if(o===i)for(;l<r;)(!d||!d.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[i]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[i++],t[l++].nextSibling),e.insertBefore(n[--o],u),t[r]=n[o]}else{if(!d){d=new Map;let a=i;for(;a<o;)d.set(n[a],a++)}const u=d.get(t[l]);if(u!=null)if(i<u&&u<o){let a=l,f=1,h;for(;++a<r&&a<o&&!((h=d.get(t[a]))==null||h!==u+f);)f++;if(f>u-i){const p=t[l];for(;i<u;)e.insertBefore(n[i++],p)}else e.replaceChild(n[i++],t[l++])}else l++;else t[l++].remove()}}}const ht="_$DX_DELEGATE";function ln(e,t,n,s={}){let r;return ne(o=>{r=o,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function $(e,t,n,s){let r;const o=()=>{const i=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return i.innerHTML=e,n?i.content.firstChild.firstChild:s?i.firstChild:i.content.firstChild},l=t?()=>W(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return l.cloneNode=l,l}function pe(e,t=window.document){const n=t[ht]||(t[ht]=new Set);for(let s=0,r=e.length;s<r;s++){const o=e[s];n.has(o)||(n.add(o),t.addEventListener(o,un))}}function S(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function R(e,t){t==null?e.removeAttribute("class"):e.className=t}function dt(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let o,l;for(o=0,l=r.length;o<l;o++){const i=r[o];!i||i==="undefined"||t[i]||(gt(e,i,!1),delete n[i])}for(o=0,l=s.length;o<l;o++){const i=s[o],c=!!t[i];!i||i==="undefined"||n[i]===c||!c||(gt(e,i,!0),n[i]=c)}return n}function an(e,t,n){e.style.setProperty(t,n)}function cn(e,t,n){return W(()=>e(t,n))}function y(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return Le(e,t,s,n);x(r=>Le(e,t(),r,n),s)}function gt(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,o=s.length;r<o;r++)e.classList.toggle(s[r],n)}function un(e){let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,o=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),l=()=>{const c=t[n];if(c&&!t.disabled){const d=t[`${n}Data`];if(d!==void 0?c.call(t,d,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},i=()=>{for(;l()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();o(c[0]);for(let d=0;d<c.length-2&&(t=c[d],!!l());d++){if(t._$host){t=t._$host,i();break}if(t.parentNode===r)break}}else i();o(s)}function Le(e,t,n,s,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=s!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(l){let i=n[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),n=J(e,n,s,i)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=J(e,n,s);else{if(o==="function")return x(()=>{let i=t();for(;typeof i=="function";)i=i();n=Le(e,i,n,s)}),()=>n;if(Array.isArray(t)){const i=[],c=n&&Array.isArray(n);if(Ve(i,t,n,r))return x(()=>n=Le(e,i,n,s,!0)),()=>n;if(i.length===0){if(n=J(e,n,s),l)return n}else c?n.length===0?mt(e,i,s):on(e,n,i):(n&&J(e),mt(e,i));n=i}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=J(e,n,s,t);J(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ve(e,t,n,s){let r=!1;for(let o=0,l=t.length;o<l;o++){let i=t[o],c=n&&n[e.length],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))r=Ve(e,i,c)||r;else if(d==="function")if(s){for(;typeof i=="function";)i=i();r=Ve(e,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||r}else e.push(i),r=!0;else{const u=String(i);c&&c.nodeType===3&&c.data===u?e.push(c):e.push(document.createTextNode(u))}}return r}function mt(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function J(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){const i=t[l];if(r!==i){const c=i.parentNode===e;!o&&!l?c?e.replaceChild(r,i):e.insertBefore(r,n):c&&i.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}const fn=!1,hn="http://www.w3.org/2000/svg";function dn(e,t=!1,n=void 0){return t?document.createElementNS(hn,e):document.createElement(e,{is:n})}function Ct(e){const{useShadow:t}=e,n=document.createTextNode(""),s=()=>e.mount||document.body,r=et();let o;return de(()=>{o||(o=tt(r,()=>I(()=>e.children)));const l=s();if(l instanceof HTMLHeadElement){const[i,c]=O(!1),d=()=>c(!0);ne(u=>y(l,()=>i()?u():o(),null)),fe(d)}else{const i=dn(e.isSVG?"g":"div",e.isSVG),c=t&&i.attachShadow?i.attachShadow({mode:"open"}):i;Object.defineProperty(i,"_$host",{get(){return n.parentNode},configurable:!0}),y(c,o),l.appendChild(i),e.ref&&e.ref(i),fe(()=>l.removeChild(i))}},void 0,{render:!0}),n}function jt(){let e=new Set;function t(r){return e.add(r),()=>e.delete(r)}let n=!1;function s(r,o){if(n)return!(n=!1);const l={to:r,options:o,defaultPrevented:!1,preventDefault:()=>l.defaultPrevented=!0};for(const i of e)i.listener({...l,from:i.location,retry:c=>{c&&(n=!0),i.navigate(r,{...o,resolve:!1})}});return!l.defaultPrevented}return{subscribe:t,confirm:s}}let Ke;function ot(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ke=window.history.state._depth}ot();function gn(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function mn(e,t){let n=!1;return()=>{const s=Ke;ot();const r=s==null?null:Ke-s;if(n){n=!1;return}r&&t(r)?(n=!0,window.history.go(-r)):e()}}const pn=/^(?:[a-z0-9]+:)?\/\//i,_n=/^\/+|(\/)\/+$/g,Pt="http://sr";function ae(e,t=!1){const n=e.replace(_n,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ee(e,t,n){if(pn.test(t))return;const s=ae(e),r=n&&ae(n);let o="";return!r||t.startsWith("/")?o=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?o=s+r:o=r,(o||"/")+ae(t,!o)}function bn(e,t){if(e==null)throw new Error(t);return e}function vn(e,t){return ae(e).replace(/\/*(\*.*)?$/g,"")+ae(t)}function Ot(e){const t={};return e.searchParams.forEach((n,s)=>{s in t?Array.isArray(t[s])?t[s].push(n):t[s]=[t[s],n]:t[s]=n}),t}function yn(e,t,n){const[s,r]=e.split("/*",2),o=s.split("/").filter(Boolean),l=o.length;return i=>{const c=i.split("/").filter(Boolean),d=c.length-l;if(d<0||d>0&&r===void 0&&!t)return null;const u={path:l?"":"/",params:{}},a=f=>n===void 0?void 0:n[f];for(let f=0;f<l;f++){const h=o[f],p=h[0]===":",g=p?c[f]:c[f].toLowerCase(),m=p?h.slice(1):h.toLowerCase();if(p&&Ne(g,a(m)))u.params[m]=g;else if(p||!Ne(g,m))return null;u.path+=`/${g}`}if(r){const f=d?c.slice(-d).join("/"):"";if(Ne(f,a(r)))u.params[r]=f;else return null}return u}}function Ne(e,t){const n=s=>s===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function wn(e){const[t,n]=e.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((r,o)=>r+(o.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function kt(e){const t=new Map,n=et();return new Proxy({},{get(s,r){return t.has(r)||tt(n,()=>t.set(r,I(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Lt(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),s=e.slice(t.index+t[0].length);const r=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=t[1]),s=s.slice(t[0].length);return Lt(s).reduce((o,l)=>[...o,...r.map(i=>i+l)],[])}const $n=100,Mt=yt(),It=yt(),Rt=()=>bn(wt(Mt),"<A> and 'use' router primitives can be only used inside a Route."),it=()=>Rt().navigatorFactory(),Tt=()=>Rt().params;function xn(e,t=""){const{component:n,preload:s,load:r,children:o,info:l}=e,i=!o||Array.isArray(o)&&!o.length,c={key:e,component:n,preload:s||r,info:l};return Bt(e.path).reduce((d,u)=>{for(const a of Lt(u)){const f=vn(t,a);let h=i?f:f.split("/*",1)[0];h=h.split("/").map(p=>p.startsWith(":")||p.startsWith("*")?p:encodeURIComponent(p)).join("/"),d.push({...c,originalPath:u,pattern:h,matcher:yn(h,!i,e.matchFilters)})}return d},[])}function Sn(e,t=0){return{routes:e,score:wn(e[e.length-1])*1e4-t,matcher(n){const s=[];for(let r=e.length-1;r>=0;r--){const o=e[r],l=o.matcher(n);if(!l)return null;s.unshift({...l,route:o})}return s}}}function Bt(e){return Array.isArray(e)?e:[e]}function Wt(e,t="",n=[],s=[]){const r=Bt(e);for(let o=0,l=r.length;o<l;o++){const i=r[o];if(i&&typeof i=="object"){i.hasOwnProperty("path")||(i.path="");const c=xn(i,t);for(const d of c){n.push(d);const u=Array.isArray(i.children)&&i.children.length===0;if(i.children&&!u)Wt(i.children,d.pattern,n,s);else{const a=Sn([...n],s.length);s.push(a)}n.pop()}}}return n.length?s:s.sort((o,l)=>l.score-o.score)}function Fe(e,t){for(let n=0,s=e.length;n<s;n++){const r=e[n].matcher(t);if(r)return r}return[]}function An(e,t,n){const s=new URL(Pt),r=I(u=>{const a=e();try{return new URL(a,s)}catch{return console.error(`Invalid path ${a}`),u}},s,{equals:(u,a)=>u.href===a.href}),o=I(()=>r().pathname),l=I(()=>r().search,!0),i=I(()=>r().hash),c=()=>"",d=ge(l,()=>Ot(r()));return{get pathname(){return o()},get search(){return l()},get hash(){return i()},get state(){return t()},get key(){return c()},query:n?n(d):kt(d)}}let Z;function En(){return Z}function Cn(e,t,n,s={}){const{signal:[r,o],utils:l={}}=e,i=l.parsePath||(k=>k),c=l.renderPath||(k=>k),d=l.beforeLeave||jt(),u=Ee("",s.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!r().value&&o({value:u,replace:!0,scroll:!1});const[a,f]=O(!1);let h;const p=(k,M)=>{M.value===g()&&M.state===v()||(h===void 0&&f(!0),Z=k,h=M,qt(()=>{h===M&&(m(h.value),b(h.state),A[1](B=>B.filter(Q=>Q.pending)))}).finally(()=>{h===M&&Kt(()=>{Z=void 0,k==="navigate"&&ye(h),f(!1),h=void 0})}))},[g,m]=O(r().value),[v,b]=O(r().state),_=An(g,v,l.queryWrapper),w=[],A=O([]),j=I(()=>typeof s.transformUrl=="function"?Fe(t(),s.transformUrl(_.pathname)):Fe(t(),_.pathname)),N=()=>{const k=j(),M={};for(let B=0;B<k.length;B++)Object.assign(M,k[B].params);return M},_e=l.paramsWrapper?l.paramsWrapper(N,t):kt(N),se={pattern:u,path:()=>u,outlet:()=>null,resolvePath(k){return Ee(u,k)}};return x(ge(r,k=>p("native",k),{defer:!0})),{base:se,location:_,params:_e,isRouting:a,renderPath:c,parsePath:i,navigatorFactory:ve,matches:j,beforeLeave:d,preloadRoute:we,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:A};function be(k,M,B){W(()=>{if(typeof M=="number"){M&&(l.go?l.go(M):console.warn("Router integration does not support relative routing"));return}const Q=!M||M[0]==="?",{replace:Re,resolve:Y,scroll:Te,state:oe}={replace:!1,resolve:!Q,scroll:!0,...B},$e=Y?k.resolvePath(M):Ee(Q&&_.pathname||"",M);if($e===void 0)throw new Error(`Path '${M}' is not a routable path`);if(w.length>=$n)throw new Error("Too many redirects");const ut=g();($e!==ut||oe!==v())&&(fn||d.confirm($e,B)&&(w.push({value:ut,replace:Re,scroll:Te,state:v()}),p("navigate",{value:$e,state:oe})))})}function ve(k){return k=k||wt(It)||se,(M,B)=>be(k,M,B)}function ye(k){const M=w[0];M&&(o({...k,replace:M.replace,scroll:M.scroll}),w.length=0)}function we(k,M){const B=Fe(t(),k.pathname),Q=Z;Z="preload";for(let Re in B){const{route:Y,params:Te}=B[Re];Y.component&&Y.component.preload&&Y.component.preload();const{preload:oe}=Y;M&&oe&&tt(n(),()=>oe({params:Te,location:{pathname:k.pathname,search:k.search,hash:k.hash,query:Ot(k),state:null,key:""},intent:"preload"}))}Z=Q}}function jn(e,t,n,s){const{base:r,location:o,params:l}=e,{pattern:i,component:c,preload:d}=s().route,u=I(()=>s().path);c&&c.preload&&c.preload();const a=d?d({params:l,location:o,intent:Z||"initial"}):void 0;return{parent:t,pattern:i,path:u,outlet:()=>c?C(c,{params:l,location:o,data:a,get children(){return n()}}):n(),resolvePath(h){return Ee(r.path(),h,u())}}}const Pn=e=>t=>{const{base:n}=t,s=nt(()=>t.children),r=I(()=>Wt(s(),t.base||""));let o;const l=Cn(e,r,()=>o,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(l),C(Mt.Provider,{value:l,get children(){return C(On,{routerState:l,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[Et(()=>(o=et())&&null),C(kn,{routerState:l,get branches(){return r()}})]}})}})};function On(e){const t=e.routerState.location,n=e.routerState.params,s=I(()=>e.preload&&W(()=>{e.preload({params:n,location:t,intent:En()||"initial"})}));return C(D,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:r=>C(r,{params:n,location:t,get data(){return s()},get children(){return e.children}})})}function kn(e){const t=[];let n;const s=I(ge(e.routerState.matches,(r,o,l)=>{let i=o&&r.length===o.length;const c=[];for(let d=0,u=r.length;d<u;d++){const a=o&&o[d],f=r[d];l&&a&&f.route.key===a.route.key?c[d]=l[d]:(i=!1,t[d]&&t[d](),ne(h=>{t[d]=h,c[d]=jn(e.routerState,c[d-1]||e.routerState.base,pt(()=>s()[d+1]),()=>e.routerState.matches()[d])}))}return t.splice(r.length).forEach(d=>d()),l&&i?l:(n=c[0],c)}));return pt(()=>s()&&n)()}const pt=e=>()=>C(D,{get when(){return e()},keyed:!0,children:t=>C(It.Provider,{value:t,get children(){return t.outlet()}})}),ie=e=>{const t=nt(()=>e.children);return rn(e,{get children(){return t()}})};function Ln([e,t],n,s){return[e,s?r=>t(s(r)):t]}function Mn(e){let t=!1;const n=r=>typeof r=="string"?{value:r}:r,s=Ln(O(n(e.get()),{equals:(r,o)=>r.value===o.value&&r.state===o.state}),void 0,r=>(!t&&e.set(r),r));return e.init&&fe(e.init((r=e.get())=>{t=!0,s[1](n(r)),t=!1})),Pn({signal:s,create:e.create,utils:e.utils})}function In(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Rn(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Tn=new Map;function Bn(e=!0,t=!1,n="/_server",s){return r=>{const o=r.base.path(),l=r.navigatorFactory(r.base);let i,c;function d(g){return g.namespaceURI==="http://www.w3.org/2000/svg"}function u(g){if(g.defaultPrevented||g.button!==0||g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)return;const m=g.composedPath().find(j=>j instanceof Node&&j.nodeName.toUpperCase()==="A");if(!m||t&&!m.hasAttribute("link"))return;const v=d(m),b=v?m.href.baseVal:m.href;if((v?m.target.baseVal:m.target)||!b&&!m.hasAttribute("state"))return;const w=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||w&&w.includes("external"))return;const A=v?new URL(b,document.baseURI):new URL(b);if(!(A.origin!==window.location.origin||o&&A.pathname&&!A.pathname.toLowerCase().startsWith(o.toLowerCase())))return[m,A]}function a(g){const m=u(g);if(!m)return;const[v,b]=m,_=r.parsePath(b.pathname+b.search+b.hash),w=v.getAttribute("state");g.preventDefault(),l(_,{resolve:!1,replace:v.hasAttribute("replace"),scroll:!v.hasAttribute("noscroll"),state:w?JSON.parse(w):void 0})}function f(g){const m=u(g);if(!m)return;const[v,b]=m;r.preloadRoute(b,v.getAttribute("preload")!=="false")}function h(g){clearTimeout(i);const m=u(g);if(!m)return c=null;const[v,b]=m;c!==v&&(i=setTimeout(()=>{r.preloadRoute(b,v.getAttribute("preload")!=="false"),c=v},20))}function p(g){if(g.defaultPrevented)return;let m=g.submitter&&g.submitter.hasAttribute("formaction")?g.submitter.getAttribute("formaction"):g.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const b=new URL(m,Pt);if(m=r.parsePath(b.pathname+b.search),!m.startsWith(n))return}if(g.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const v=Tn.get(m);if(v){g.preventDefault();const b=new FormData(g.target,g.submitter);v.call({r,f:g.target},g.target.enctype==="multipart/form-data"?b:new URLSearchParams(b))}}pe(["click","submit"]),document.addEventListener("click",a),e&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",f,{passive:!0}),document.addEventListener("touchstart",f,{passive:!0})),document.addEventListener("submit",p),fe(()=>{document.removeEventListener("click",a),e&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",p)})}}function Wn(e){const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${t}`}return t}function Nn(e){const t=()=>window.location.hash.slice(1),n=jt();return Mn({get:t,set({value:s,replace:r,scroll:o,state:l}){r?window.history.replaceState(gn(l),"","#"+s):window.history.pushState(l,"","#"+s);const i=s.indexOf("#"),c=i>=0?s.slice(i+1):"";Rn(c,o),ot()},init:s=>In(window,"hashchange",mn(s,r=>!n.confirm(r&&r<0?r:t()))),create:Bn(e.preload,e.explicitLinks,e.actionBase),utils:{go:s=>window.history.go(s),renderPath:s=>`#${s}`,parsePath:Wn,beforeLeave:n}})(e)}const Fn="_chordblock_j9e1m_3",Un="_content_j9e1m_7",Dn="_scale_j9e1m_12",Hn="_chordRoots_j9e1m_17",Gn="_controls_j9e1m_38",Vn="_menu_j9e1m_38",Kn="_chord-label_j9e1m_38",qn="_only-print_j9e1m_41",Xn="_chord_j9e1m_3",Zn="_text_j9e1m_75",zn="_textx_j9e1m_81",Qn="_nut_j9e1m_88",Yn="_fret_j9e1m_94",Jn="_finger_j9e1m_99",er="_string_j9e1m_104",tr="_bar_j9e1m_109",nr="_n1_j9e1m_115",rr="_n2_j9e1m_116",sr="_n3_j9e1m_117",or="_n4_j9e1m_118",ir="_n5_j9e1m_119",lr="_n6_j9e1m_120",ar="_n7_j9e1m_121",cr="_active_j9e1m_124",ur="_footer_j9e1m_147",fr="_roman_j9e1m_153",hr="_header_j9e1m_168",dr="_menu-btn_j9e1m_197",gr="_logo_j9e1m_201",mr="_instrument_j9e1m_219",pr="_menu-icon_j9e1m_235",_r="_navicon_j9e1m_243",br="_steps_j9e1m_293",vr="_chord-notes_j9e1m_328",yr="_chords_j9e1m_332",wr="_instrument-editor_j9e1m_338",$r="_small-button_j9e1m_342",E={chordblock:Fn,content:Un,scale:Dn,chordRoots:Hn,controls:Gn,menu:Vn,"chord-label":"_chord-label_j9e1m_38",chordLabel:Kn,"only-print":"_only-print_j9e1m_41",onlyPrint:qn,chord:Xn,text:Zn,textx:zn,nut:Qn,fret:Yn,finger:Jn,string:er,bar:tr,n1:nr,n2:rr,n3:sr,n4:or,n5:ir,n6:lr,n7:ar,active:cr,footer:ur,roman:fr,header:hr,"menu-btn":"_menu-btn_j9e1m_197",menuBtn:dr,logo:gr,instrument:mr,"menu-icon":"_menu-icon_j9e1m_235",menuIcon:pr,navicon:_r,steps:br,"chord-notes":"_chord-notes_j9e1m_328",chordNotes:vr,chords:yr,"instrument-editor":"_instrument-editor_j9e1m_338",instrumentEditor:wr,"small-button":"_small-button_j9e1m_342",smallButton:$r};var xr=$("<p>This is a collection of utilities to help you find your way around your stringed instrument, be it a guitar, uke, banjo, or your very own custom 9 stringed cigar box thing. "),Sr=$("<p>Pick your instrument on the <a href=/settings>settings</a> page, and go either to the <a href=/scales>scales</a> or <a href=/chords>chords</a> page!"),Ar=$("<p>This is not a chord data-base, the app calculates ways to play the chords on the fly. You can tweak exactly how on the settings page."),Er=$("<h2>Updates"),Cr=$("<dl><dt>2025-08-24</dt><dd>Added circle of fifth visualisation of scales (borrowed from the excellent <a href=https://apps.musedlab.org/aqwertyon/theory/C-4-major>aqwertyon</a>!). Also, scales/chords are saved in the URL now, so you can link to them.</dd><dt>2024-03-03</dt><dd>Added option for left-handed instruments</dd><dt>2024-03-02</dt><dd>Added print stylesheet for nice printed/PDF versions");function jr(){return[xr(),Sr(),Ar(),Er(),Cr()]}const G=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],lt=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"],Me={...Object.fromEntries(G.map((e,t)=>[e,t])),...Object.fromEntries(lt.map((e,t)=>[e,t]))},Se=["A","B","C","D","E","F","G"],Ue=[...Array(12).keys()].map(e=>e*7%12);function De(e){return e>0?"♯".repeat(e):e<0?"♭".repeat(-e):""}function Pr(e){if(!/[A-G](♯*|♭*)/.test(e))throw Error("Not a valid name: "+e);let t=e.length-1;return t&&e[1]=="♭"&&(t*=-1),ce(Me[e[0]]+t)}function Or(e){return["1","5","4"].includes(e)?"perfect":e.includes("♭")||e.includes("♯")?"minor":"major"}class U{constructor(t,n){this.name=t,this.strings=n}fingering(t,n){const s=[];return this.strings.forEach((r,o)=>{for(let l=0;l<n;l++){const i=t.notes.indexOf((r+l)%12);i!=-1&&s.push(new le(o,l,i%7,t.label(t.notes[i])))}}),new re(s)}string_fingerings(t,n,s,r,o){const{max_fret:l,max_reach:i,force_root:c,max_fingers:d}=n;if(s.no_fingers>(d||4))return;if(o==this.strings.length){const f=s.sounding;new Set(f.map(p=>p.color)).size==t.notes.length&&(!c||f[0].color===0)&&r.push(s);return}const u=this.strings[o],a=s.bar;a||this.string_fingerings(t,n,s.push(new le(o,0,null,null)),r,o+1);for(let f=a?a.fret:0;f<l;f++){const h=t.notes.indexOf((u+f)%12);h!=-1&&s.max_reach(f)<i&&(!a&&f>0&&o!=this.strings.length-1&&this.string_fingerings(t,n,s.push(new le(o,f,h,t.scale.label(t.notes[h]),!0)),r,o+1),this.string_fingerings(t,n,s.push(new le(o,f,h,t.scale.label(t.notes[h]))),r,o+1))}}chord_fingerings(t,n){const s=[];this.string_fingerings(t,n,new re([]),s,0);let r=s.filter(o=>!o.pointless_bar);return r=r.filter(o=>!r.some(l=>o!=l&&o.isSubSetOf(l))),r.sort(re.sorter),n.lefty&&(r=r.map(o=>o.lefty(n.instrument))),r}}class le{constructor(t,n,s,r,o){this.string=t,this.fret=n,this.color=s,this.label=r,this.bar=o}get mute(){return this.color==null}}class re{constructor(t){this.fingers=t,this.signature=this.fingers.map(n=>n.mute?"x":n.fret+(n.bar?"b":"")).join("|")}static sorter(t,n){const s=t.min_sounding_fret-n.min_sounding_fret;return s||(!t.bar&&n.bar?-1:t.bar&&!n.bar?1:t.sounding.length>n.sounding.length?-1:t.sounding.length<n.sounding.length?1:0)}get min_sounding_fret(){return Math.min(...this.sounding.map(t=>t.fret))}get min_fret(){return this.fingered.length?Math.min(...this.fingered.map(t=>t.fret)):0}get max_fret(){return Math.max(...this.sounding.map(t=>t.fret))}get no_fingers(){return this.sounding.filter(t=>(!this.bar||this.bar.fret!=t.fret&&this.bar!=t)&&t.fret).length}get sounding(){return this.fingers.filter(t=>!t.mute)}get fingered(){return this.sounding.filter(t=>t.fret)}max_reach(t){return Math.max(...this.fingered.map(n=>Math.abs(n.fret-t)))}lefty(t){return new re(this.fingers.map(n=>new le(t.strings.length-1-n.string,n.fret,n.color,n.label,n.bar?"left":!1)))}get bar(){return this.fingers.flatMap(t=>t.bar?[t]:[])[0]}get pointless_bar(){const t=this.bar;return t?!this.fingers.some(n=>n.string>t.string&&n.fret==t.fret):!1}push(t){return new re([...this.fingers,t])}isSubSetOf(t){const n=this.sounding.every(s=>t.sounding.some(r=>s.string==r.string&&s.fret==r.fret));return n&&this.bar&&!t.bar||n&&this.bar&&t.bar&&this.bar.fret==t.bar.fret&&this.bar.string<t.bar.string?!1:n}}class ee{constructor(t,n,s){this.name=t,this.notes=n,this.symbol=s}}const Ce=Object.fromEntries([new ee("major",[0,4,7],""),new ee("minor",[0,3,7],"m"),new ee("augmented",[0,4,8],"aug"),new ee("diminished",[0,3,6],"dim"),new ee("sus2",[0,2,7],"sus2"),new ee("sus4",[0,5,7],"sus4")].map(e=>[e.symbol,e])),qe={none:null,6:9,7:10,maj7:11},kr=Object.fromEntries(Object.entries(qe).map(([e,t])=>[t,e])),Lr=Object.fromEntries(Object.values(Ce).map(e=>[e.notes,e.symbol]));function ce(e){return(e%12+12)%12}class Nt{constructor(t,n){this.scale=t,this.notes=n}get root(){return this.notes[0]}get type(){const t=this.notes.map(n=>ce(n-this.root));return(t.length>3?kr[t[3]]:"")+Lr[t.slice(0,3)]}get label(){return this.scale.label(this.root)+this.type}}const Mr={W:2,H:1};class X{constructor(t,n){let s=0;n=[...n],n.pop(),this.name=t,this.short_name=t.replace(/.*\/ /,""),this.notes=[0,...n.map(r=>(s=(s+Mr[r])%12,s))]}createScale(t,n){const s=Pr(t);return new Ir(t,this.notes.map(r=>(r+s)%12),n)}}class Ir{constructor(t,n,s){this.name=t,this.notes=n,this.root=this.notes[0],t.includes("♭")&&(s=!0),t.includes("♯")&&(s=!1);const r=Se.indexOf(this.name[0]),o=[...Se.slice(r),...Se.slice(0,r)];if(this.notes.length!=Se.length)throw Error("I expect a 7 note scale, got "+this.notes.length);const l=this.#e(o),i=this.#t(o);s===void 0?this.labels=l.join().length>i.join().length?i:l:s?this.labels=l:this.labels=i}#e(t){const n=[...lt];return this.notes.forEach((s,r)=>n[s]=t[r]+De(-ce(Me[t[r]]-s))),n}#t(t){const n=[...G];return this.notes.forEach((s,r)=>n[s]=t[r]+De(ce(s-Me[t[r]]))),n}interval_number(t){const n=this.notes.indexOf(t);if(n==-1)return"";const s=ce(this.notes[n]-this.root),r=te.Major.notes[n]-s;return De(r)+(n+1)}label(t){return this.labels[t]}chord(t){return new Nt(this,[0,2,4].map(n=>this.notes[(t+n)%this.notes.length]))}}const te=Object.fromEntries([new X("Lydian","WWWHWWH"),new X("Ionian / Major","WWHWWWH"),new X("Mixolydian","WWHWWHW"),new X("Dorian","WHWWWHW"),new X("Aeolian / Minor","WHWWHWW"),new X("Phrygian","HWWWHWW"),new X("Locrian","HWWHWWW")].map(e=>[e.short_name,e])),at=Object.fromEntries([new U("Guitar",[4,9,2,7,11,4]),new U("Guitar Open D",[2,9,2,6,9,2]),new U("Guitar Open G",[2,7,2,7,11,2]),new U("Bass",[4,9,2,7]),new U("Ukulele",[7,0,4,9]),new U("Banjo",[2,7,11,2]),new U("Banjo Open C",[0,7,0,4])].map(e=>[e.name,e])),Rr="/assets/guitar-BQq2yry5.png";var Tr=$(`<fieldset><p>We'll save these settings in your browser!</p><label>Instrument</label><select></select><p><a href=/instrument>Add a new instrument</a></p><label><input type=checkbox> Force Root Bass</label><p><i>Force root bass</i> will ensure the lowest sounding string is the root of a chord. On guitar, this is common, on ukulele or banjo, you probably don't care.</p><label><input type=checkbox> Lefty</label><p><i>Lefty</i> swaps the order of the strings, used for a left-handed instrument.</p><label>Max Fret</label><input type=number><p><i>Max fret</i> decides how high up the neck we will form chords.</p><label>Max Reach</label><input type=number><p><i>Max reach</i> determines how many frets chord can cover. If you have small hands, maybe chose 3, if you are John Mayer chose 5.</p><label>Max Fingers</label><input type=number><p><i>Max fingers</i> determines how many fingers we can use for a chord. If you are Django Reinhardt, chose 3, if you are in the <a href="https://www.youtube.com/watch?v=_Jijy3OCbdg">Barcelona Guitar Trio</a>, chose 15. `),Br=$("<option> [<!>]");const Wr=JSON.parse(localStorage.getItem("options")||"{}"),V={force_root:!0,lefty:!1,max_fret:12,max_fingers:4,max_reach:4,instrument:"Guitar",custom_instruments:{},...Wr};V.custom_instruments=Object.fromEntries(Object.entries(V.custom_instruments).map(([e,t])=>[e,new U(t.name,t.strings)]));const[Xe,Nr]=O(V.force_root),[Ze,Fr]=O(V.lefty),[ze,Ur]=O(V.max_fret),[Qe,Dr]=O(V.max_fingers),[Ye,Hr]=O(V.max_reach),[ue,Gr]=O({...at,...V.custom_instruments||{}}),[Je,Ft]=O(ue()[V.instrument]||at.Guitar),F=()=>({force_root:Xe(),lefty:Ze(),max_reach:Ye(),max_fingers:Qe(),max_fret:ze(),instrument:Je()});function Vr(e){Gr({...ue(),[e.name]:e}),Ft(e)}function Kr(){return de(ge([Xe,Ze,Ye,Qe,ze,Je,ue],([e,t,n,s,r,o,l])=>{const i=Object.fromEntries(Object.entries(l).filter(([d,u])=>at[d]===void 0)),c={force_root:e,lefty:t,max_reach:n,max_fingers:s,max_fret:r,instrument:o.name,custom_instruments:i};localStorage.setItem("options",JSON.stringify(c))})),(()=>{var e=Tr(),t=e.firstChild,n=t.nextSibling,s=n.nextSibling,r=s.nextSibling,o=r.nextSibling,l=o.firstChild,i=o.nextSibling,c=i.nextSibling,d=c.firstChild,u=c.nextSibling,a=u.nextSibling,f=a.nextSibling,h=f.nextSibling,p=h.nextSibling,g=p.nextSibling,m=g.nextSibling,v=m.nextSibling,b=v.nextSibling;return s.addEventListener("change",_=>Ft(ue()[_.currentTarget.value])),y(s,C(z,{get each(){return Object.values(ue())},children:_=>(()=>{var w=Br(),A=w.firstChild,j=A.nextSibling;return j.nextSibling,y(w,()=>_.name,A),y(w,()=>_.strings.map(N=>G[N]).join(" - "),j),x(()=>w.selected=Je()==_),x(()=>w.value=_.name),w})()})),l.addEventListener("change",_=>Nr(_.currentTarget.checked)),d.addEventListener("change",_=>Fr(_.currentTarget.checked)),f.addEventListener("change",_=>Ur(parseInt(_.currentTarget.value,10))),g.addEventListener("change",_=>Hr(parseInt(_.currentTarget.value,10))),b.addEventListener("change",_=>Dr(parseInt(_.currentTarget.value,10))),x(()=>l.checked=Xe()),x(()=>d.checked=Ze()),x(()=>f.value=ze()),x(()=>g.value=Ye()),x(()=>b.value=Qe()),e})()}var qr=$("<svg><line x1=0 y1=0 y2=0></svg>",!1,!0,!1),Xr=$('<svg><g transform="translate(15 15)">'),Zr=$("<svg><line x1=1></svg>",!1,!0,!1),zr=$("<svg><text x=-10></svg>",!1,!0,!1),Qr=$("<svg><line y1=0></svg>",!1,!0,!1),Yr=$("<svg><line></svg>",!1,!0,!1),Jr=$("<svg><circle r=5></svg>",!1,!0,!1),es=$("<svg><text></svg>",!1,!0,!1),ts=$("<svg><text>⨯</svg>",!1,!0,!1);function ct({instrument:e,fingering:t,no_frets:n}){const o=()=>e.strings.length*10-10+2,l=()=>Math.max(1,t()?t().min_fret:0),i=()=>l()<n&&t().max_fret<=n?1:l();return(()=>{var c=Xr(),d=c.firstChild;return y(d,C(D,{get when(){return i()==1},get children(){var u=qr();return x(a=>{var f=o(),h=E.nut;return f!==a.e&&S(u,"x2",a.e=f),h!==a.t&&S(u,"class",a.t=h),a},{e:void 0,t:void 0}),u}}),null),y(d,C(z,{get each(){return[...Array(n+1).keys()]},children:u=>[(()=>{var a=Zr();return S(a,"y1",20*u),S(a,"y2",20*u),x(f=>{var h=o()-1,p=E.fret;return h!==f.e&&S(a,"x2",f.e=h),p!==f.t&&S(a,"class",f.t=p),f},{e:void 0,t:void 0}),a})(),C(D,{when:u!=n,get children(){var a=zr();return S(a,"y",20*(u+.5)),y(a,()=>i()+u),x(()=>S(a,"class",E.text)),a}})]}),null),y(d,C(z,{get each(){return e.strings},children:(u,a)=>(()=>{var f=Qr();return S(f,"y2",20*n),x(h=>{var p=1+a()*10,g=1+a()*10,m=E.string;return p!==h.e&&S(f,"x1",h.e=p),g!==h.t&&S(f,"x2",h.t=g),m!==h.a&&S(f,"class",h.a=m),h},{e:void 0,t:void 0,a:void 0}),f})()}),null),y(d,C(D,{get when(){return t()},get children(){return C(z,{get each(){return t().fingers},children:u=>{const a=1+u.string*10,f=u.mute||u.fret==0?-20+20/2+4:(u.fret-i()+1)*20-20/2+(u.fret==0?4:0);return[C(D,{get when(){return u.bar},get children(){var h=Yr();return S(h,"x1",a),S(h,"y1",f),S(h,"y2",f),x(p=>{var g=u.bar=="left"?1:1+e.strings.length*10-10,m=E.bar;return g!==p.e&&S(h,"x2",p.e=g),m!==p.t&&S(h,"class",p.t=m),p},{e:void 0,t:void 0}),h}}),C(D,{get when(){return!u.mute},get fallback(){return(()=>{var h=ts();return S(h,"x",a),S(h,"y",f),x(()=>S(h,"class",E.textx)),h})()},get children(){return[(()=>{var h=Jr();return S(h,"cx",a),S(h,"cy",f),x(()=>S(h,"class",E.finger+" "+E["n"+(1+u.color)])),h})(),(()=>{var h=es();return S(h,"x",a),S(h,"y",f),y(h,()=>u.label),x(()=>S(h,"class",E.text)),h})()]}})]}})}}),null),x(u=>{var a=`0 0 ${30+o()+2} ${20+20*n}`,f=E.chord;return a!==u.e&&S(c,"viewBox",u.e=a),f!==u.t&&S(c,"class",u.t=f),u},{e:void 0,t:void 0}),c})()}var ns=$('<svg width=300 height=300 viewBox="-100 -100 200 200">'),rs=$("<svg><g><a><path stroke=white stroke-width=4></svg>",!1,!0,!1),ss=$("<svg><path stroke=white stroke-width=4></svg>",!1,!0,!1),os=$("<svg><text pointer-events=none fill=white dominant-baseline=middle text-anchor=middle></svg>",!1,!0,!1),is=$("<svg><text font-size=70% fill=white dominant-baseline=middle text-anchor=middle></svg>",!1,!0,!1);const ls={perfect:"#a71b4b",major:"#f9c25c",minor:"#00a3b6"};function as({scale:e,mode:t}){const[n,s]=[Math.sin(30*Math.PI/180),Math.cos(30*Math.PI/180)],r=60,o=30,l=0,i=.75,c=I(()=>Ue.map(a=>e().label(a))),d=I(()=>Ue.map(a=>e().interval_number(a))),u=I(()=>d().map(a=>a==""?"lightgrey":ls[Or(a)]));return(()=>{var a=ns();return y(a,()=>[...Array(12).keys()].map(f=>(()=>{var h=rs(),p=h.firstChild,g=p.firstChild;return S(g,"d",`M ${r} 0 H 100 A 100 100 0 0 1 ${100*s} ${100*n} L ${r*s} ${r*n} A 100 100 0 0 0 ${r} 0`),S(g,"transform",`rotate(${-105+f*30})`),x(m=>{var v=`/scales/${c()[f]}/Major`,b=u()[f];return v!==m.e&&S(p,"href",m.e=v),b!==m.t&&S(g,"fill",m.t=b),m},{e:void 0,t:void 0}),h})()),null),y(a,()=>[...Array(12).keys()].map(f=>(()=>{var h=ss();return S(h,"d",`M ${o} 0 H ${r-l} A ${r-l} ${r-l} 0 0 1 ${(r-l)*s} ${(r-l)*n} L ${o*s} ${o*n} A ${r-l} ${r-l} 0 0 0 ${o} 0`),S(h,"transform",`rotate(${-105+f*30})`),x(()=>S(h,"fill",u()[f])),h})()),null),y(a,()=>[...Array(12).keys()].map(f=>(()=>{var h=os();return y(h,()=>c()[f]),x(p=>{var g=Ue[f]==e().notes[0]?"underline":"",m=(r+(100-r)/2)*Math.sin(f*30*Math.PI/180),v=-80*Math.cos(f*30*Math.PI/180);return g!==p.e&&S(h,"text-decoration",p.e=g),m!==p.t&&S(h,"x",p.t=m),v!==p.a&&S(h,"y",p.a=v),p},{e:void 0,t:void 0,a:void 0}),h})()),null),y(a,()=>[...Array(12).keys()].map(f=>(()=>{var h=is();return y(h,()=>d()[f]),x(p=>{var g=r*i*Math.sin(f*30*Math.PI/180),m=1+-45*Math.cos(f*30*Math.PI/180);return g!==p.e&&S(h,"x",p.e=g),m!==p.t&&S(h,"y",p.t=m),p},{e:void 0,t:void 0}),h})()),null),a})()}var cs=$("<sup>"),us=$("<span>"),fs=$("<div><h3></h3><div><span></span><div><button>❮</button>(<!>/<!>)<button>❯"),hs=$("<h1> "),ds=$("<fieldset><label>Mode</label><select></select><br>"),gs=$("<a href=/scales/C/Major>reset"),ms=$("<h2>Chords"),ps=$("<div>"),_s=$("<div><h2>Scale</h2><div>"),bs=$("<option>");function vs({degree:e,type:t}){const n=["I","II","III","IV","V","VI","VII"],s={aug:"+",dim:"o"};return(()=>{var r=us();return y(r,C(D,{when:t!=="m",get fallback(){return n[e].toLowerCase()},get children(){return[Et(()=>n[e]),(()=>{var o=cs();return y(o,()=>s[t]),o})()]}})),x(()=>R(r,E.roman)),r})()}function ys({scale:e,degree:t}){const[n,s]=O(0),r=()=>e().chord(t),o=I(()=>F().instrument.chord_fingerings(r(),F())),l=()=>o()[n()];return de(ge(r,()=>s(0))),(()=>{var i=fs(),c=i.firstChild,d=c.nextSibling,u=d.firstChild,a=u.nextSibling,f=a.firstChild,h=f.nextSibling,p=h.nextSibling,g=p.nextSibling,m=g.nextSibling,v=m.nextSibling,b=v.nextSibling;return y(c,C(vs,{degree:t,get type(){return r().type}}),null),y(c,()=>r().label,null),y(u,()=>r().notes.map(_=>e().label(_)).join(" - ")),y(d,C(ct,{get instrument(){return F().instrument},fingering:l,no_frets:5}),a),f.$$click=()=>s(n()-1),y(a,()=>n()+1,p),y(a,()=>o().length,m),b.$$click=()=>s(n()+1),x(_=>{var w=E.chordblock,A=E.controls,j=n()==0,N=n()>=o().length-1;return w!==_.e&&R(i,_.e=w),A!==_.t&&R(a,_.t=A),j!==_.a&&(f.disabled=_.a=j),N!==_.o&&(b.disabled=_.o=N),_},{e:void 0,t:void 0,a:void 0,o:void 0}),i})()}function ws(){const e=Tt(),t=it(),[n,s]=O(te[e.mode||"Major"]),[r,o]=O(!1),l=I(()=>n().createScale((e.key||"C").replaceAll("%E2%99%AD","♭").replaceAll("%E2%99%AF","♯")));de(()=>t(`/scales/${e.key||"C"}/${n().short_name}`));const i=()=>F().instrument.fingering(l(),13);return[C(Ct,{get mount(){return document.querySelector("header")},get children(){var c=hs(),d=c.firstChild;return y(c,()=>l().label(l().notes[0]),d),y(c,()=>n().name,null),x(()=>R(c,E.onlyPrint)),c}}),(()=>{var c=ds(),d=c.firstChild,u=d.nextSibling;return u.addEventListener("change",a=>s(te[a.currentTarget.value])),y(u,()=>Object.keys(te).map(a=>(()=>{var f=bs();return f.value=a,y(f,()=>te[a].name),f})())),x(()=>u.value=n().short_name),c})(),gs(),C(as,{scale:l,mode:n}),ms(),(()=>{var c=ps();return y(c,C(z,{get each(){return[...Array(l().notes.length).keys()]},children:d=>C(ys,{scale:l,degree:d})})),x(()=>R(c,E.chords)),c})(),(()=>{var c=_s(),d=c.firstChild,u=d.nextSibling;return y(u,C(ct,{get instrument(){return F().instrument},fingering:i,no_frets:12})),x(()=>R(c,E.scale)),c})()]}pe(["click"]);var $s=$("<fieldset><div><label>Root <a>(toggle flats)</a></label></div><label>Triad</label><select></select><label>6/7"),xs=$("<h2> <span>[<!>]"),Ss=$("<h1> <span>[<!>]"),As=$("<p>No chords found :("),Es=$("<div>"),_t=$("<button>"),Cs=$("<option>"),js=$("<div><div>(<!>/<!>)");function Ps(e,t,n,s){const r=t.notes.map(o=>(o+e)%12);return n&&r.push((n+e)%12),new Nt(te.Major.createScale("C",s),r)}function Ae(e){return/(?<root>[A-G](?:♯*|♭*))(?<seven>6|7|maj7)?(?<triad>m|aug|dim|sus2|sus4)?/.exec(e).groups}function Os(){const e=Tt(),t=it(),[n,s]=O(!1),[r,o]=O(e.chord?Me[Ae(e.chord).root]:0),[l,i]=O(Ce[e.chord&&Ae(e.chord).triad||""]),[c,d]=O(e.chord?qe[Ae(e.chord).seven]:null);console.log(e.chord&&Ae(e.chord)),de(()=>t(`/chords/${u().label}`));const u=()=>Ps(r(),l(),c(),n()),a=I(()=>F().instrument.chord_fingerings(u(),F()));return[(()=>{var f=$s(),h=f.firstChild,p=h.firstChild,g=p.firstChild,m=g.nextSibling,v=h.nextSibling,b=v.nextSibling;return b.nextSibling,m.$$click=()=>s(!n()),y(h,()=>Object.values(n()?lt:G).map((_,w)=>(()=>{var A=_t();return A.$$click=()=>o(w),y(A,_),x(j=>dt(A,{[E.active]:w==r()},j)),A})()),null),b.addEventListener("change",_=>i(Ce[_.currentTarget.value])),y(b,()=>Object.entries(Ce).map(([_,w])=>(()=>{var A=Cs();return A.value=_,y(A,()=>w.name),A})())),y(f,()=>Object.entries(qe).toSorted((_,w)=>_[1]-w[1]).map(([_,w])=>(()=>{var A=_t();return A.$$click=()=>d(w),y(A,_),x(j=>dt(A,{[E.active]:w==c()},j)),A})()),null),x(()=>R(h,E.chordRoots)),x(()=>b.value=l().symbol),f})(),(()=>{var f=xs(),h=f.firstChild,p=h.nextSibling,g=p.firstChild,m=g.nextSibling;return m.nextSibling,y(f,()=>u().label,h),y(p,()=>u().notes.map(v=>G[v]).join(" - "),m),x(v=>{var b=E.chordLabel,_=E.chordNotes;return b!==v.e&&R(f,v.e=b),_!==v.t&&R(p,v.t=_),v},{e:void 0,t:void 0}),f})(),C(Ct,{get mount(){return document.querySelector("header")},get children(){var f=Ss(),h=f.firstChild,p=h.nextSibling,g=p.firstChild,m=g.nextSibling;return m.nextSibling,y(f,()=>u().label,h),y(p,()=>u().notes.map(v=>G[v]).join(" - "),m),x(()=>R(p,E.chordNotes)),f}}),(()=>{var f=Es();return y(f,C(D,{get when(){return a().length==0},get children(){return As()}}),null),y(f,C(z,{get each(){return a()},children:(h,p)=>(()=>{var g=js(),m=g.firstChild,v=m.firstChild,b=v.nextSibling,_=b.nextSibling,w=_.nextSibling;return w.nextSibling,y(m,C(ct,{get instrument(){return F().instrument},fingering:()=>h,no_frets:5}),v),y(m,()=>p()+1,b),y(m,()=>a().length,w),x(()=>R(g,E.chordblock)),g})()}),null),x(()=>R(f,E.chords)),f})()]}pe(["click"]);var ks=$("<fieldset><label>Name:</label><input type=text><label>Strings <input type=button value=+></label><br><input type=button value=Save>"),Ls=$("<span>String "),Ms=$("<select>"),Is=$("<input type=button value=✕>"),Rs=$("<br>"),Ts=$("<option>");function Bs(){const e=it(),[t,n]=O([O(0),O(5),O(11)]),[s,r]=O("My Cigar Box Banjo"),o=()=>{Vr(new U(s(),t().map(([i,c])=>parseInt(i(),10)))),e("/settings",{replace:!0})},l=()=>s()&&t().length;return(()=>{var i=ks(),c=i.firstChild,d=c.nextSibling,u=d.nextSibling,a=u.firstChild,f=a.nextSibling,h=u.nextSibling,p=h.nextSibling;return d.addEventListener("change",g=>r(g.currentTarget.value)),f.$$click=()=>n([...t(),O(0)]),y(i,C(z,{get each(){return t()},children:([g,m],v)=>[(()=>{var b=Ls();return b.firstChild,y(b,()=>1+v(),null),b})(),(()=>{var b=Ms();return b.addEventListener("change",_=>m(_.currentTarget.value)),y(b,()=>Object.keys(G).map(_=>(()=>{var w=Ts();return w.value=_,y(w,()=>G[_]),x(()=>w.selected=_==g()),w})())),b})(),(()=>{var b=Is();return b.$$click=()=>n([...t()].toSpliced(v(),1)),x(()=>R(b,E.smallButton)),b})(),Rs()]}),h),p.$$click=g=>o(),x(g=>{var m=E.instrumentEditor,v=E.smallButton,b=!l();return m!==g.e&&R(i,g.e=m),v!==g.t&&R(f,g.t=v),b!==g.a&&(p.disabled=g.a=b),g},{e:void 0,t:void 0,a:void 0}),x(()=>d.value=s()),i})()}pe(["click"]);const Ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2UlEQVR4nO2ZW4hNURjHf8PM4ciICHWKhrdBHohEismzh1MKL9Q0IrlfcivlyfAwSMyrGSlvPCsvriPkkhRDkmvGLbdc2lr1Te12+5xvrb3XPls6v/o6p87e/++/1l5nrfWtDXXq1PHFFGA5cAi4ADwEXgMDQD/QB/QAW4GZQAP/AM1AO3AFCBzjGbAfKOVhvEl68lMC49H4DnQBY2tlfhHwwIPxaLwBylmb7wB+ZWA+CEW3PGGvNAInMjYehOI8UPDZgJM1NB9InAOG+jC/LQfzgcThtOaXAH8qiK8BpsrnnQTmHgFbgGnA0irXmd8SMVySVBJuiVxflplEM/5FJoMhoXtLVa5/AYxO0oB9ipFizD2TZHFqE1NFCfN9IbAXmB1zX0HJ1elqfgzwVRH1OUsUlFzGywQXwQ0WQ2G8xwZMtMi320XQ5k9phokvFlvke2y7AWy1EHvreRNWEk0t73QbsVUWQsvwT9ki72YboWOKyO2M9vINwHUld6+N0CUfvZCQ9UrumzYiT3yMw4S0Krlf2Yh8UERGZVzhBcp6oDKgiDTn2IAfNiLPFRGz+cqKGUpu402lTxExtXBWbFdy37IR6VVEnlbYyKVlhJxUaJWayiaLBcWUl77ptsi7w8c4HIwuqZXT0ggcscw511ZUWwsGw6yc81OYXwDcsMz1zqXDtGImGleBtVJiaphr1gHXHHMcdOmZccDHiMBKYA5wP+UM1eloPAB+A5NxZFeM0ArZ+r6scAxigzkquevYgB4SUIxZ1Ppl12jG/c8UBU67g/n3UrElok0eX1hwVuiM9B7wTXawZh63pcWhAR14Ptg6m1ZQzj5tzJ/2VXucighv9KCpmb8IDMMT5hDqaMzUuUeKkAOeG3BZjna8s7PKUaMr1WYcbz0fxzz58/puwGcZmjV5d9Yk60S4+HElbP5MXu/KzFqxWmoIV8z7teMZ19iZMjJvA3Xq8B/wFxn/xCZauf1bAAAAAElFTkSuQmCC";var Ns=$('<header><a href><img width=32 alt="chords logo"><div>Chord Finder<br><span> [<!>]</span></div></a><input type=checkbox id=menu-btn><label for=menu-btn><span></span></label><ul><li><a href=/scales>Scales</a></li><li><a href=/chords>Chords</a></li><li><a href=/settings>Settings'),Fs=$("<div>"),Us=$('<footer>Chord finder! / by <a href=https://twitter.com/gromgull>gromgull</a> / <img alt="GitHub logo"> <a href=https://github.com/gromgull/chord-finder>GitHub</a> / AGPL License');const Ds=document.getElementById("root");function Hs(e){let t;return[(()=>{var n=Ns(),s=n.firstChild,r=s.firstChild,o=r.nextSibling,l=o.firstChild,i=l.nextSibling,c=i.nextSibling,d=c.firstChild,u=d.nextSibling;u.nextSibling;var a=s.nextSibling,f=a.nextSibling,h=f.firstChild,p=f.nextSibling,g=p.firstChild,m=g.firstChild,v=g.nextSibling,b=v.firstChild,_=v.nextSibling,w=_.firstChild;S(r,"src",Rr),y(c,()=>F().instrument.name,d),y(c,()=>F().instrument.strings.map(j=>G[j]).join(" - "),u);var A=t;return typeof A=="function"?cn(A,a):t=a,m.$$click=()=>t.click(),b.$$click=()=>t.click(),w.$$click=()=>t.click(),x(j=>{var N=E.header,_e=E.logo,se=E.instrument,be=E.menuBtn,ve=E.menuIcon,ye=E.navicon,we=E.menu;return N!==j.e&&R(n,j.e=N),_e!==j.t&&R(s,j.t=_e),se!==j.a&&R(c,j.a=se),be!==j.o&&R(a,j.o=be),ve!==j.i&&R(f,j.i=ve),ye!==j.n&&R(h,j.n=ye),we!==j.s&&R(p,j.s=we),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),n})(),(()=>{var n=Fs();return y(n,()=>e.children),x(()=>R(n,E.content)),n})(),(()=>{var n=Us(),s=n.firstChild,r=s.nextSibling,o=r.nextSibling,l=o.nextSibling;return an(l,"height","1em"),S(l,"src",Ws),x(()=>R(n,E.footer)),n})()]}ln(()=>C(Nn,{root:Hs,get children(){return[C(ie,{path:["/scales","/scales/:key/:mode"],component:ws}),C(ie,{path:"/chords/:chord?",component:Os}),C(ie,{path:"/settings",component:Kr}),C(ie,{path:"/instrument",component:Bs}),C(ie,{path:"/",component:jr})]}}),Ds);pe(["click"]);
